<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th = "http://www.thymeleafe.org">
    <head th:replace="fragments/header :: header">
        <title>TODO supply a title</title>
    </head>
    <body class="body-wrapper">
        <div th:replace="fragments/navbar :: navbar"></div>
        <section class="cta-subscribe bg-subscribe overlay-dark" style="min-height: 478px; margin-top: 100px;">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 mr-auto">
                        <!-- Subscribe Content -->
                        <div class="content">
                            <h3>Search for a new card request, <span class="alternate">Enter request number</span></h3>
                            <!--<p>Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusm tempor</p>-->
                        </div>
                    </div>
                    <div class="col-md-6 ml-auto align-self-center">
                        <!-- Subscription form -->
                        <form th:action="@{search-new-card-req}" class="row">
                            <div class="col-lg-8 col-md-12">
                                <input type="text" name="keywords" class="form-control main white mb-lg-0" placeholder="Request Number"/>
                            </div>
                            <div class="col-lg-4 col-md-12">
                                <div class="subscribe-button">
                                    <button class="btn btn-main-md">Search</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <div th:if="${result != null}">
            <section class="sponsors section bg-sponsors overlay-white">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="section-title">
                                <h3>Search <span class="alternate">Result</span></h3>
                                <div th:if="${request != null}">
                                    <p>
                                        Request Number: 
                                        <span th:text="${request.id}"></span><br/>
                                        status is: 
                                        <span th:text="(${request.manipulated == false})? 'not manipulated yet' : ''"></span>
                                        <span th:text="(${request.manipulated == true AND request.approval == true}) ? 'Approved' : ''"></span>
                                        <span th:text="(${request.manipulated == true AND request.approval == false}) ? 'rejected' : ''"></span>
                                    </p>
                                </div>
                                <div th:if="${request == null}">
                                    <p>No Result found, The request number is invalid.</p>
                                </div>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
        <div th:replace="fragments/footer :: footer"></div>
    </body>
</html>
